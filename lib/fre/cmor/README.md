UNDER CONSTRUCTION: old usage notes at the top of `cmor_mixer.py`, re-rigged for markdown and CMIP7.

at PP/AN, module load the latest `fre-cli` that's been pushed to the main branch:
```
> module load fre/canopy
> which fre
    /home/fms/local/opt/fre-commands/canopy/bin/fre
```

alternatively, with access to conda:
```
> conda activate /nbhome/fms/conda/envs/fre-cli
> which fre
    /nbhome/fms/conda/envs/fre-cli/bin/fre
```

this subtool's help, and command-specific `run` help:
```
> fre cmor --help
    Usage: fre cmor [OPTIONS] COMMAND [ARGS]...

       - access fre cmor subcommands

    Options:
      --help  Show this message and exit.

    Commands:
      run  Rewrite climate model output


# subtool command-specific help, e.g. for run
> fre cmor run --help                        
Usage: fre cmor run [OPTIONS]                                                 
                                                                              
  Rewrite climate model output files with CMIP-compliant metadata for down-   
  stream publishing                                                           
                                                                              
Options:                                                                      
  -d, --indir TEXT         directory containing netCDF files. keys specified  
                           in json_var_list are local variable names used for 
                           targeting specific files in this directory         
                           [required]                                         
  -l, --varlist TEXT       path pointing to a json file containing directory  
                           of key/value pairs. the keys are the 'local' names 
                           used in the filename, and the values pointed to by 
                           those keys are strings representing the name of the
                           variable contained in targeted files. the key and  
                           value are often the same, but it is not required.  
                           [required]                                         
  -r, --table_config TEXT  json file containing CMIP-compliant per-           
                           variable/metadata for specific MIP table. The MIP  
                           table can generally be identified by the specific  
                           filename (e.g. 'Omon')  [required]                 
  -p, --exp_config TEXT    json file containing metadata dictionary for       
                           CMORization. this metadata is effectively appended 
                           to the final output file's header  [required]      
  -o, --outdir TEXT        directory root that will contain the full output   
                           and output directory structure generated by the    
                           cmor module upon request.  [required]              
  -v, --opt_var_name TEXT  optional, specify a variable name to specifically  
                           process only filenames matching that variable name.
                           I.e., this string help target local_vars, not      
                           target_vars.                                       
  --help                   Show this message and exit.                        
```


the tool requires configuration in the form of variable tables and conventions to work appropriately
clone the following repository and list the following directory contents to get a sense of what
the code needs from you to work. a few examples shown in the output below. the CV file is of particular interest/necessity
```
> git clone https://github.com/PCMDI/cmip6-cmor-tables.git fre/tests/test_files/cmip6-cmor-tables
> ls fre/tests/test_files/cmip6-cmor-tables/Tables
...
    CMIP6_CV.json
    CMIP6_formula_terms.json
    CMIP6_grids.json
    CMIP6_coordinate.json
    CMIP6_input_example.json
...
    CMIP6_3hr.json
...
    CMIP6_Efx.json
...
    CMIP6_IyrGre.json
...
```


Simple example call(s) using fre-cli in the root directory of this repository note the line-continuation character at the end for readability,
you may wish to avoid it when copy/pasting.
```
> fre cmor run \
     -d fre/tests/test_files/ocean_sos_var_file \
     -l fre/tests/test_files/varlist \
     -r fre/tests/test_files/cmip6-cmor-tables/Tables/CMIP6_Omon.json \
     -p fre/tests/test_files/CMOR_input_example.json \
     -o fre/tests/test_files/outdir
```



